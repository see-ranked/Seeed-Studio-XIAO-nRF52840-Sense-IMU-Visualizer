# XIAO MG24 Sense 低背ポゴピン設計ガイド

ピンヘッダ/ピンソケット接続時にバッテリーパッドへポゴピンで給電する設計方法

## 📋 課題と解決策

### 設計要件

XIAO MG24 Senseをピンヘッダ（オス）とピンソケット（メス）で接続した状態で、背面のバッテリーパッド（BAT+/BAT-）にポゴピンで接触させる必要があります。

```
[断面図]

XIAO MG24 Sense本体
┌─────────────────┐
│  [表面部品]      │
├─────────────────┤  ← 基板厚さ: 約1.0mm
│ BAT+ BAT-       │  ← 裏面バッテリーパッド
└────┬──┬─────────┘
     │  │ ピンヘッダ（オス）
     │  │ 高さ: 約2.5mm（標準）
┌────▼──▼─────────┐
│ ピンソケット     │  ← PCB基板
│ (メス)           │
├─────────────────┤
│ ポゴピン ↑↑     │  ← ポゴピンが必要
└─────────────────┘

必要なポゴピン高さ = ピンヘッダ高さ + 基板厚さ + クリアランス
                  ≈ 2.5mm + 1.0mm + 0.5mm = 4.0mm程度
```

### 問題点

- **P75-E2シリーズ**: 全長約7.3mm、ストローク1.5mm → **高すぎる**
- 標準的なピンヘッダ接続では、ポゴピンが届かない、または高すぎて干渉する

## 推奨ポゴピン

### 1. Mill-Max 0926-1シリーズ（低背SMT）

**最もおすすめ！**

| 項目 | 仕様 |
|------|------|
| **型番** | 0926-1-15-20-77-14-11-0 |
| **全長** | 5.21mm |
| **推奨動作高さ** | 2.50mm（0.098インチ） |
| **最大動作高さ** | 3.18mm（0.125インチ） |
| **最小動作高さ** | 1.78mm（0.070インチ） |
| **ストローク** | 0.99mm（0.039インチ） |
| **直径** | 0.97mm |
| **実装方式** | SMT（表面実装） |
| **接触力** | 約75g |
| **定格電流** | 3A |
| **耐久性** | 100万サイクル |
| **価格** | 約¥150～¥200/個 |

**特徴**:
- ピンヘッダ+ピンソケット接続に最適な高さ
- 推奨動作高さ2.50mmで、ストローク0.99mmの余裕
- SMT実装で基板への実装が容易
- 高い信頼性と耐久性

**購入先**:
- [Mill-Max公式](https://www.mill-max.com/)
- [Digi-Key](https://www.digikey.jp/)
- [Mouser](https://www.mouser.jp/)

### 2. Mill-Max 0929シリーズ（標準SMT）

| 項目 | 仕様 |
|------|------|
| **型番** | 0929-0-15-20-75-14-11-0 |
| **全長** | 18.16mm |
| **最大動作高さ** | 8.64mm（0.340インチ） |
| **推奨動作高さ** | 7.94mm（0.313インチ） |
| **最小動作高さ** | 7.24mm（0.285インチ） |
| **ストローク** | 約1.4mm（0.055インチ） |
| **直径** | 0.97mm |
| **実装方式** | SMT（表面実装） |
| **接触力** | 約75g |
| **定格電流** | 3A |
| **価格** | 約¥150～¥200/個 |

**特徴**:
- 動作高さが高く、標準ピンヘッダ接続には**高すぎる**
- 特殊な用途（高さのある接続）に適している
- 本用途（ピンヘッダ2.5mm + 基板1.0mm = 3.5mm）には**不適合**

### 3. Mill-Max 0908シリーズ（標準SMT）

| 項目 | 仕様 |
|------|------|
| **型番** | 0908-3-15-20-75-14-11-0 |
| **全長** | 約8.23mm（0.324インチ） |
| **最大動作高さ** | 8.00mm（0.315インチ） |
| **推奨動作高さ** | 7.30mm（0.287インチ） |
| **最小動作高さ** | 6.60mm（0.260インチ） |
| **ストローク** | 約1.4mm（0.055インチ） |
| **直径** | 1.02mm |
| **実装方式** | スルーホール |
| **接触力** | 約60g（中間圧縮時） |
| **定格電流** | 6.5A |
| **価格** | 約¥120～¥180/個 |

**特徴**:
- 動作高さが高く、標準ピンヘッダ接続には**高すぎる**
- スルーホール実装タイプ
- 本用途（ピンヘッダ2.5mm + 基板1.0mm = 3.5mm）には**不適合**

> [!WARNING]
> **0908と0929シリーズについて**
> - 両シリーズとも推奨動作高さが7mm以上で、標準ピンヘッダ接続（必要高さ3.5mm程度）には**高すぎます**
> - 本用途には**Mill-Max 0926-1（推奨動作高さ2.50mm）が最適**です

### 3. 中国製低背ポゴピン（コストパフォーマンス重視）

| 項目 | 仕様 |
|------|------|
| **型番** | SMT Pogo Pin 2.0mm / 2.5mm / 3.0mm |
| **全長** | 2.0mm～3.5mm（選択可能） |
| **ストローク** | 0.5mm～1.0mm |
| **直径** | 0.8mm～1.5mm |
| **実装方式** | SMT |
| **接触力** | 50g～100g |
| **定格電流** | 1A～3A |
| **価格** | 約¥20～¥50/個 |

**購入先**:
- [AliExpress](https://www.aliexpress.com/)（検索: "SMT pogo pin 2mm"）
- [Taobao](https://www.taobao.com/)

**注意点**:
- 品質にばらつきがある可能性
- データシートが不完全な場合がある
- プロトタイプやホビー用途に適している

---

## 設計方法

### 方法A: 低背ポゴピン + 標準ピンヘッダ（推奨）

#### 構成

```
[断面図 - 方法A]

XIAO MG24 Sense
┌─────────────────┐
│                 │
├─────────────────┤  1.0mm (基板厚)
│ BAT+ BAT-       │  ← バッテリーパッド
└────┬──┬─────────┘
     │  │ ピンヘッダ 2.5mm
     │  │
┌────▼──▼─────────┐
│ ピンソケット     │  ← メインPCB
│ 高さ: 2.5mm      │
├─────────────────┤  1.6mm (基板厚)
│                 │
│ ポゴピン ↑↑     │  ← Mill-Max 0926-1 (推奨動作高さ2.5mm)
│ 高さ: 2.5mm      │
└─────────────────┘

クリアランス計算:
- XIAOバッテリーパッド位置: 2.5mm + 1.0mm = 3.5mm
- ポゴピン推奨動作高さ: 2.5mm（基板表面から）
- 基板厚: 1.6mm
- ポゴピン先端位置（推奨）: 1.6mm + 2.5mm = 4.1mm
- 圧縮量: 4.1mm - 3.5mm = 0.6mm ✓（ストローク0.99mm内で最適）
```

#### 必要な部品

- ✅ Mill-Max 0926-1シリーズポゴピン × 2個
- ✅ 2.54mmピッチピンヘッダ（オス）× 14ピン
- ✅ 2.54mmピッチピンソケット（メス）× 14ピン
- ✅ CR2032ホルダー
- ✅ LIR2032電池

#### KiCadでの設計手順

##### ステップ1: カスタムフットプリントの作成

1. **新規フットプリントを作成**
   - フットプリントエディタを開く
   - 「ファイル」→「新規フットプリント」
   - 名前: `XIAO-MG24-Battery-LowProfile-PogoPin`

2. **ポゴピン用SMDパッドを配置**
   ```
   パッド仕様:
   - タイプ: SMD
   - 形状: 円形
   - サイズ: 直径1.5mm（ポゴピン直径 + 0.5mm）
   - レイヤー: F.Cu, F.Paste, F.Mask
   - 位置:
     * BAT+パッド: X=6.0mm, Y=0mm
     * BAT-パッド: X=-6.0mm, Y=0mm
     （間隔12mm、XIAOのバッテリーパッドと一致）
   ```

3. **ピンソケット用パッドを配置**
   - 2.54mmピッチで14ピン × 2列
   - スルーホールパッド
   - ドリル径: 1.0mm
   - パッド径: 1.7mm

4. **シルクスクリーンを追加**
   - XIAO外形線（21.0mm × 17.8mm）
   - ポゴピン位置マーク
   - 極性表示（+/-）

##### ステップ2: 回路図の作成

1. **シンボルの配置**
   - XIAO MG24 Sense (U1)
   - CR2032ホルダー (BT1)
   - ポゴピンコネクタ (J1, 2ピン)

2. **配線**
   ```
   BT1 ピン1(+) → J1 ピン1 (BAT+)
   BT1 ピン2(-) → J1 ピン2 (BAT-)
   
   U1のピンはピンソケット経由で接続
   ```

##### ステップ3: PCBレイアウト

1. **フットプリントの配置**
   - カスタムフットプリント `XIAO-MG24-Battery-LowProfile-PogoPin` を配置
   - CR2032ホルダーを適切な位置に配置

2. **配線**
   - CR2032ホルダーからポゴピンパッドまで配線
   - 電源ラインは0.5mm以上の太さ

3. **DRCチェック**
   - クリアランス確認
   - ポゴピンパッド位置の確認

##### ステップ4: 実装

1. **PCB製造**
   - JLCPCBで発注（「JLCPCB発注ガイド.md」参照）

2. **ポゴピンの実装**
   - リフロー炉またはホットエアーでSMT実装
   - または、はんだごてで慎重にはんだ付け
   - ポゴピンが垂直に立っていることを確認

3. **ピンソケットの実装**
   - スルーホールにピンソケットを挿入
   - 裏面ではんだ付け

4. **CR2032ホルダーの実装**
   - スルーホールに挿入してはんだ付け

5. **動作確認**
   - XIAO MG24 Senseにピンヘッダをはんだ付け
   - PCBのピンソケットに挿入
   - テスターでBAT+/BAT-の導通確認
   - LIR2032を挿入して電圧確認（3.6V～4.2V）

---

### 方法B: 低背ピンヘッダ + 標準ポゴピン

#### 構成

低背ピンヘッダ（高さ1.5mm程度）を使用することで、標準的なポゴピン（P75-E2など）も使用可能になります。

```
[断面図 - 方法B]

XIAO MG24 Sense
┌─────────────────┐
│                 │
├─────────────────┤  1.0mm
│ BAT+ BAT-       │
└────┬──┬─────────┘
     │  │ 低背ピンヘッダ 1.5mm
     │  │
┌────▼──▼─────────┐
│ ピンソケット     │
│ 高さ: 1.5mm      │
├─────────────────┤  1.6mm
│                 │
│ ポゴピン ↑↑     │  ← P75-E2 (7.3mm)
│ 高さ: 7.3mm      │
└─────────────────┘
```

#### 必要な部品

- ✅ P75-E2ポゴピン × 2個
- ✅ 低背ピンヘッダ（高さ1.5mm）× 14ピン
- ✅ 低背ピンソケット（高さ1.5mm）× 14ピン
- ✅ CR2032ホルダー
- ✅ LIR2032電池

**低背ピンヘッダの例**:
- [秋月電子 低背ピンヘッダ](https://akizukidenshi.com/)
- [千石電商 低背ピンソケット](https://www.sengoku.co.jp/)

---

### 方法C: ポゴピンアダプタ基板（最も柔軟）

#### 概要

XIAO用のアダプタ基板を作成し、ポゴピンを別基板に配置する方法です。

```
[構成図]

┌─────────────────┐
│ XIAO MG24 Sense │
│ (ピンヘッダ付)   │
└────┬──┬─────────┘
     │  │
┌────▼──▼─────────┐
│ アダプタ基板     │  ← 薄型基板（0.8mm）
│ (ピンソケット)   │
│                 │
│ ポゴピン ↑↑     │  ← 低背ポゴピン
└─────────────────┘
     ↓  ↓
┌─────────────────┐
│ メイン基板       │
│ (CR2032ホルダー) │
└─────────────────┘
```

#### メリット

- 既存のXIAO（ピンヘッダ付）をそのまま使用可能
- アダプタ基板のみ交換可能
- 設計の自由度が高い

---

## 実装例: Mill-Max 0929使用

### 回路図

```
[回路図]

     BT1 (CR2032ホルダー)
      ┌─┴─┐
      │   │
      +   -
      │   │
      │   │
    ┌─┴───┴─┐
    │ J1     │  ← ポゴピンコネクタ
    │ BAT+   │
    │ BAT-   │
    └────────┘
        ↑
        │ ポゴピン接触
        │
    ┌───┴────┐
    │ XIAO   │
    │ MG24   │
    │ Sense  │
    └────────┘
```

### PCBレイアウト

```
[トップビュー]

    ┌───────────────────────┐
    │                       │
    │  CR2032ホルダー        │
    │      (BT1)            │
    │                       │
    ├───────────────────────┤
    │                       │
    │  ●BAT-         BAT+●  │  ← ポゴピンSMDパッド
    │                       │
    │  ┌─────────────────┐  │
    │  │ ピンソケット     │  │
    │  │ (14pin × 2)     │  │
    │  └─────────────────┘  │
    │                       │
    └───────────────────────┘
```

### 3Dイメージ

```
[側面図 - 組み立て後]

XIAO MG24 Sense
┌─────────────────┐
│ [LSM6DS3] [MIC] │  ← 表面部品
├─────────────────┤
│ ●BAT-    BAT+●  │  ← 裏面パッド
└────┬──┬─────────┘
     │  │ ピンヘッダ
     ▼  ▼
┌─────────────────┐
│ ○○○○○○○ ○○○○○○○ │  ← ピンソケット
├─────────────────┤
│ PCB基板          │
│                 │
│ ↑BAT-    BAT+↑  │  ← ポゴピン（Mill-Max 0926-1）
│                 │
│ [CR2032]        │  ← CR2032ホルダー
└─────────────────┘
```

---

## トラブルシューティング

### 問題1: ポゴピンが接触しない

**原因と対策**:

1. **ポゴピンの高さ不足**
   - より高いポゴピンに変更（0926-1 → 0908）
   - 基板厚を薄くする（1.6mm → 1.0mm）

2. **位置ずれ**
   - フットプリントのパッド位置を再確認
   - XIAOのバッテリーパッド位置を実測

3. **ポゴピンの傾き**
   - リフロー時の温度プロファイルを確認
   - 手はんだの場合は垂直を保つ

### 問題2: ポゴピンが高すぎる

**原因と対策**:

1. **ストローク超過**
   - より低いポゴピンに変更（0926-1 → 0929）
   - 低背ピンヘッダを使用

2. **XIAOが浮く**
   - ピンソケットの高さを確認
   - ポゴピンのストローク範囲内か確認

### 問題3: 接触が不安定

**原因と対策**:

1. **接触力不足**
   - より強い接触力のポゴピンに変更
   - ポゴピンの圧縮量を増やす

2. **酸化**
   - 金メッキポゴピンを使用
   - 接点復活剤を塗布

---

## 推奨設計

### 初心者向け

**方法A + Mill-Max 0926-1**
- 最もシンプルで信頼性が高い
- ピンヘッダ+ピンソケット接続に最適な高さ
- 部品入手が容易（Digi-Key、Mouser）
- 実装が比較的簡単

### コスト重視

**方法A + 中国製低背ポゴピン**
- 低コスト（約¥20/個）
- AliExpressで入手可能
- プロトタイプに最適

### 柔軟性重視

**方法C（アダプタ基板）**
- 既存XIAOを活用可能
- 設計変更が容易
- 複数の用途に対応

---

## 部品リスト

### Mill-Max 0926-1使用（推奨）

| 部品名 | 型番/仕様 | 数量 | 購入先 | 価格目安 |
|--------|----------|------|--------|---------|
| ポゴピン | Mill-Max 0926-1-15-20-77-14-11-0 | 2 | [Digi-Key](https://www.digikey.jp/) | ¥300～¥400 |
| ピンヘッダ | 2.54mm 1×14 オス | 2 | [秋月電子](https://akizukidenshi.com/) | ¥100 |
| ピンソケット | 2.54mm 1×14 メス | 2 | [秋月電子](https://akizukidenshi.com/) | ¥200 |
| CR2032ホルダー | CH25-2032LF | 1 | [秋月電子](https://akizukidenshi.com/catalog/g/g100706/) | ¥100 |
| LIR2032電池 | 3.6V 40mAh | 1 | [秋月電子](https://akizukidenshi.com/catalog/g/g114730/) | ¥300 |
| **合計** | | | | **約¥1,000** |

### 中国製ポゴピン使用（コスト重視）

| 部品名 | 型番/仕様 | 数量 | 購入先 | 価格目安 |
|--------|----------|------|--------|---------|
| ポゴピン | SMT Pogo Pin 2.5mm | 2 | [AliExpress](https://www.aliexpress.com/) | ¥40～¥100 |
| ピンヘッダ | 2.54mm 1×14 オス | 2 | [秋月電子](https://akizukidenshi.com/) | ¥100 |
| ピンソケット | 2.54mm 1×14 メス | 2 | [秋月電子](https://akizukidenshi.com/) | ¥200 |
| CR2032ホルダー | CH25-2032LF | 1 | [秋月電子](https://akizukidenshi.com/catalog/g/g100706/) | ¥100 |
| LIR2032電池 | 3.6V 40mAh | 1 | [秋月電子](https://akizukidenshi.com/catalog/g/g114730/) | ¥300 |
| **合計** | | | | **約¥700～¥800** |

---

## 参考リンク

### ポゴピンメーカー
- [Mill-Max Manufacturing](https://www.mill-max.com/) - 高品質ポゴピン
- [株式会社シー・シー・ピー・ジャパン](https://www.pccp.co.jp/) - 超小型ポゴピン
- [Digi-Key](https://www.digikey.jp/) - Mill-Max製品取扱
- [Mouser](https://www.mouser.jp/) - Mill-Max製品取扱

### 関連ガイド
- [バッテリーパッド接続ガイド](./バッテリーパッド接続ガイド.md)
- [JLCPCB発注ガイド](./JLCPCB発注ガイド.md)
- [XIAO-MG24-Sense README](./XIAO-MG24-Sense/README.md)

---

## まとめ

ピンヘッダ/ピンソケット接続時にバッテリーパッドへポゴピンで給電するには、**Mill-Max 0926-1シリーズ**の使用が最適です。

### 推奨構成

1. **ポゴピン**: Mill-Max 0926-1-15-20-77-14-11-0
   - 全長: 5.21mm
   - 推奨動作高さ: 2.50mm
   - ストローク: 0.99mm
2. **ピンヘッダ/ソケット**: 標準2.54mmピッチ
3. **実装方式**: SMT（表面実装）

### 0926-1が最適な理由

- **推奨動作高さ2.50mm**がピンヘッダ+ピンソケット構成に最適
- **ストローク0.99mm**で十分な余裕
- 標準的なピンヘッダ（2.5mm）とピンソケット（2.5mm）の組み合わせで使用可能
- 圧縮量0.6mm程度で安定した接触を実現

### 設計のポイント

- ポゴピンパッド位置をXIAOのバッテリーパッドと正確に合わせる（間隔12mm）
- ストローク範囲内で適切な圧縮量を確保（推奨0.5～0.8mm）
- 垂直実装を徹底する

頑張ってください！ 🔋⚡📌
